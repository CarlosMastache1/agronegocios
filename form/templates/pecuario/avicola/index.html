{% extends 'base3.html' %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<link rel="stylesheet" href="{% static 'pecuario/css/avicola_css.css' %}">
<link rel="stylesheet" href="{% static 'pecuario/css/estilo_pecuario.css' %}">

<main id="contents" class="site-contnts">
	<!--BANNER-->
	<div class="home-slider">
		<div class="item" data-slide="{% static 'pecuario/avicola/img/avi1.png' %}">
			<div class="container">
				<div class="row">
					<div class="col-sm-11 col-md-8 col-lg-7"></div>
				</div>
			</div>
		</div>

		<div class="item" data-slide="{% static 'pecuario/avicola/img/avi2.png' %}">

			<div class="container">
				<div class="row">
					<div class="col-sm-11 col-md-8 col-lg-7"></div>
				</div>
			</div>
		</div>
	</div>
</main>

<div>
	<div id="body_pag">
		<!-- Secciones -->
		<section id="section1" class="section">
			<h1>DESCRIPCI√ìN DEL SECTOR AVICOLA</h1>
			<p style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">
				Oaxaca cuenta con 570 municipios productores del sector av√≠cola, se encuentra en el 23¬∞ lugar en
				producci√≥n de carne de ave y en el 19¬∞ en producci√≥n de huevo de gallina a nivel nacional, con 14
				pueblos ind√≠genas productores de este sector.
			</p>


			<div class="descripcion">
				<div class="container">

					<div class="card">
						<h2>üìä Lugar a nivel mundial</h2>
						<p>M√©xico ocupa el <strong>8¬∫ lugar</strong> mundial en producci√≥n de carne av√≠cola, con un
							volumen de producci√≥n de <strong>3,781,735 Ton</strong>; M√©xico ocupa el
							<strong>7¬∫ lugar</strong> en producci√≥n de huevo de gallina,con un volumen de producci√≥n de
							<strong>61,628,301 Ton</strong>.
						</p>
					</div>

					<div class="card">
						<h2>üìç Municipios en Oaxaca</h2>
						<p>Oaxaca cuenta con <strong>570 municipios productores</strong> del sector av√≠cola, tanto de
							carne como de huevo de gallina.</p>
					</div>

					<div class="card">
						<h2>üá≤üáΩ Lugar a nivel nacional</h2>
						<p>Oaxaca ocupa el <strong>23¬∫ lugar</strong> nacional en producci√≥n de carne de ave, con un
							volumen de producci√≥n de <strong>13,122 Ton</strong>, con un peso promedio de <strong>2
								KG</strong>, un precio de <strong>35 $/KG</strong> y un valor de producci√≥n de
							<strong>$495,459,000</strong>, por otro lado Oaxaca ocupa el <strong>19¬∫ lugar</strong> en
							producci√≥n de huevo de gallina, con un volumen de producci√≥n de <strong>6,879 Ton</strong>,
							un precio de <strong>28 $/KG</strong> y un valor de producci√≥n de
							<strong>$194,001,000</strong>
						</p>
					</div>

					<div class="card">
						<h2>üìà Regi√≥n con mayor producci√≥n</h2>
						<p>La regi√≥n con mayor producci√≥n de carne de ave es la <strong>Sierra de Flores Mag√≥n</strong>,
							con 45 municipios productores, los caules tienen un volumen de producci√≥n de <strong>6,676
								Ton</strong>, un peso de <strong>2 KG</strong>, con un precio de <strong>43
								$/KG</strong>, y un valor de producci√≥n de <strong>$268,365,000</strong>
							y los <strong>Valles Centrales</strong> lideran en producci√≥n de huevo de gallina, con 121
							municipios productores, los cuales cuentan con un volumen de producci√≥n de <strong>1,957
								Ton</strong>, un precio de <strong>26 $/KG</strong> y un valor de producci√≥n de
							<strong>$49,953,000</strong>.
						</p>
					</div>

					<div class="card">
						<h2>üßëüèΩ‚Äçüåæ Pueblos ind√≠genas</h2>
						<p>Un total de <strong>14 pueblos ind√≠genas</strong> participan activamente en la producci√≥n
							av√≠cola en Oaxaca.</p>
					</div>
				</div>
			</div>

			<!-- Contenedor de botones para filtrar entre producto y subproducto -->
			<div class="container-buttons">
				<!-- Bot√≥n para mostrar producto (carne) -->

				<a class="btn h-button active" data-text="Ver Producto" aria-label="Thanks" onclick="mostrarProducto()">
					<svg width="277" height="62" aria-hidden="true">
						<defs>
							<linearGradient id="grad1">
								<stop offset="0%" stop-color="#7a1433" />
								<stop offset="100%" stop-color="#c95885" />
							</linearGradient>
						</defs>
						<rect x="5" y="5" rx="25" fill="none" stroke="url(#grad1)" width="266" height="50"></rect>
					</svg>
					<!-- Letras del bot√≥n separadas para efecto visual -->
					<span>C</span>
					<span>a</span>
					<span>r</span>
					<span>n</span>
					<span>e</span>
				</a>

				<!-- Bot√≥n para mostrar subproducto (lana) -->
				<a class="btn h-button" data-text="Ver SubProducto" aria-label="Thanks" onclick="mostrarSubProducto()">
					<svg width="277" height="62" aria-hidden="true">
						<defs>
							<linearGradient id="grad2">
								<stop offset="0%" stop-color="#7a1433" />
								<stop offset="100%" stop-color="#c95885" />
							</linearGradient>
						</defs>
						<rect x="5" y="5" rx="25" fill="none" stroke="url(#grad2)" width="266" height="50"></rect>
					</svg>
					<span>H</span>
					<span>u</span>
					<span>e</span>
					<span>v</span>
					<span>o</span>
				</a>


			</div>
			<!-- Espacio visual entre secciones -->
			<div class="espacio-estilo"></div>
		</section>
		<section id="section2" class="section">
			<h1>PRODUCCI√ìN MUNDIAL DEL SECTOR AVICOLA</h1>
			<div class="bloque-producto">
				<H2>CARNE DE AVE</H2>
				<div class="contenedor_col1">
					<div class="columna1">
						<table class="tabla-datos">
							<thead>
								<tr>
									<th>RANKING</th>
									<th>PAIS</th>
									<th>VOLUMEN DE PRODUCCI√ìN (TON)</th>
								</tr>
							</thead>

							<tbody id="tab_cuerpo_pais_pro">


							</tbody>
							<tfoot>
								<tr>
									<th>Total:</th>
									<th colspan="2" id="total_tabla1"> </th>
								</tr>
							</tfoot>

						</table>
					</div>
					<iframe loading="lazy" id="frame_mundo_prod" src="{% url 'iframeMundo' %}" class="columna2" frameborder="0"></iframe>
				</div>
			</div>
			<div class="bloque-subproducto">
				<H3>HUEVO DE GALLINA</H3>
				<div class="contenedor_col2">
					<iframe loading="lazy" id="frame_mundo_sub_prod" src="{% url 'iframeMundo' %}" class="columna1"
						frameborder="0"></iframe>

					<div class="columna2">
						<table class="tabla-datos">
							<thead>
								<tr>
									<th>RANKING</th>
									<th>PAIS</th>
									<th>VOLUMEN DE PRODUCCI√ìN (L)</th>
								</tr>
							</thead>

							<!-- Datos din√°micos -->
							<tbody id="tab_cuerpo_pais_sub_pro">
							</tbody>
							<tfoot>
								<tr>
									<th>Total:</th>
									<th colspan="2" id="total_tabla2"></th>
								</tr>
							</tfoot>
						</table>
					</div>
				</div>
			</div>
		</section>
		<section id="section3" class="section">
			<h1>PRODUCCI√ìN NACIONAL AVICOLA</h1>

			<div class="bloque-producto">
				<H2>PRODUCCI√ìN NACIONAL DE CARNE DE AVE</H2>
				<div class="controls">
					<label>
						Mostrar
						<select id="rowsPerPage2">
							<option value="10">10</option>
							<option value="25">25</option>
							<option value="50">50</option>
							<option value="100">100</option>
						</select>
						registros
					</label>

					<input type="text" id="searchInput2" placeholder="Buscar...">
				</div>

				<table id="data2Table" class="tabla-datos">
					<thead>
						<tr>
							<th>RANKING</th>
							<th>ENTIDAD FEDERATIVA</th>
							<th>VOLUMEN DE PRODUCCI√ìN (TON)</th>
							<th>PESO (KG)</th>
							<th>PRECIO ($/KG)</th>
							<th>VALOR DE PRODUCCI√ìN ($)</th>
						</tr>
					</thead>
					<tbody>
						<!-- Filas din√°micas -->
					</tbody>
					<tfoot>
						<tr>
							<th></th>
							<th>Total:</th>
							<th>3,888,208</th>
							<th>2</th>
							<th>38</th>
							<th>147,966,234,000</th>
					</tfoot>
				</table>

				<div class="pagination">
					<button id="prevBtn2">Anterior</button>
					<span id="pageInfo2"></span>
					<button id="nextBtn2">Siguiente</button>
				</div>
				<iframe id="iframe_mexico_prod" src="{% url 'iframeMexico' %}" class="mapa_mexico_sty"
					frameborder="0"></iframe>
			</div>
			<div class="bloque-subproducto">
				<H3>PRODUCCI√ìN NACIONAL DE HUEVO DE GALLINA</H3>

				<div class="controls">
					<label>
						Mostrar
						<select id="rowsPerPage">
							<option value="10">10</option>
							<option value="25">25</option>
							<option value="50">50</option>
							<option value="100">100</option>
						</select>
						registros
					</label>

					<input type="text" id="searchInput" placeholder="Buscar...">
				</div>

				<table id="dataTable" class="tabla-datos">
					<thead>
						<tr>
							<th>RANKING</th>
							<th>ENTIDAD FEDERATIVA</th>
							<th>VOLUMEN DE PRODUCCI√ìN (TON)</th>
							<th>PRECIO ($/KG)</th>
							<th>VALOR DE PRODUCCI√ìN ($)</th>
						</tr>
					</thead>
					<tbody>
						<!-- Filas din√°micas -->
					</tbody>
					<tfoot>
						<tr>
							<th></th>
							<th>Total:</th>
							<th>3,171,784</th>
							<th>30</th>
							<th>87,969,091,000</th>
					</tfoot>
				</table>

				<div class="pagination">
					<button id="prevBtn">Anterior</button>
					<span id="pageInfo"></span>
					<button id="nextBtn">Siguiente</button>
				</div>
				<iframe id="iframe_mexico_sub_prod" src="{% url 'iframeMexico' %}" class="mapa_mexico_sty"
					frameborder="0"></iframe>
			</div>
		</section>
		<section id="section4" class="section">
			<h1>BALANZA COMERCIAL DEL SECTOR AVICOLA DE M√âXICO</h1>
			<h2>VOLUMEN DE COMERCIALIZACI√ìN (TON)</h2>
			<div class="chart-container">
				<canvas id="lineChart"></canvas>
			</div>
		</section>
		<section id="section5" class="section">
			<h1>PRODUCCI√ìN HISTORICA DE CARNE DE AVE Y HUEVO DE GALLINA</h1>
			<div class="bloque-producto">
				<h2>VOLUMEN DE PRODUCCI√ìN POR REGI√ìN DE CARNE DE AVE (TON)</h2>
				<div class="chart-container">
					<canvas id="lineChart2"></canvas>
				</div>
			</div>
			<div class="bloque-subproducto">
				<h3>VOLUMEN DE PRODUCCI√ìN POR REGI√ìN DE HUEVO DE GALLINA (TON)</h3>

				<div class="chart-container">
					<canvas id="lineChart3"></canvas>
				</div>
			</div>
		</section>
		<section id="section6" class="section">
			<h1>PRODUCCI√ìN DE SECTOR AVICOLA EN OAXACA</h1>
			<div class="bloque-producto">
				<h2>PRODUCCI√ìN DE CARNE DE AVE EN OAXACA</h2>

				<table class="tabla-datos">
					<thead>
						<tr>
							<th>REGION</th>
							<th>VOLUMEN DE PRODUCCI√ìN (TON)</th>
							<th>PESO (KG)</th>
							<th>PRECIO ($/KG)</th>
							<th>VALOR DE PRODUCCI√ìN ($)</th>
							<th>CANTIDAD DE MUNICIPIOS</th>
						</tr>
					</thead>

					<tbody>
						<tr>
							<td>Sierra de Flores Mag√≥n</td>
							<td>6,676</td>
							<td>2</td>
							<td>43</td>
							<td>268,365,000</td>
							<td>45</td>
						</tr>
						<tr>
							<td>Valles Centrales</td>
							<td>2,115</td>
							<td>2</td>
							<td>28</td>
							<td>57,501,000</td>
							<td>121</td>
						</tr>
						<tr>
							<td>Mixteca</td>
							<td>1,058</td>
							<td>1</td>
							<td>38</td>
							<td>40,187,000</td>
							<td>155</td>
						</tr>
						<tr>
							<td>Papaloapan</td>
							<td>991</td>
							<td>2</td>
							<td>40</td>
							<td>40,079,000</td>
							<td>20</td>
						</tr>
						<tr>
							<td>Istmo</td>
							<td>686</td>
							<td>1</td>
							<td>39</td>
							<td>26,508,000</td>
							<td>41</td>
						</tr>
						<tr>
							<td>Costa</td>
							<td>659</td>
							<td>2</td>
							<td>45</td>
							<td>30,561,000</td>
							<td>50</td>
						</tr>
						<tr>
							<td>Sierra de Ju√°rez</td>
							<td>504</td>
							<td>2</td>
							<td>31</td>
							<td>17,534,000</td>
							<td>69</td>
						</tr>
						<tr>
							<td>Sierra Sur</td>
							<td>433</td>
							<td>2</td>
							<td>33</td>
							<td>14,723,000</td>
							<td>69</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th>ESTATAL</th>
							<th>13,122</th>
							<th>2</th>
							<th>35</th>
							<th>495,459,000</th>
							<th>570</th>
						</tr>
					</tfoot>
				</table>


				<h4>VOLUMEN DE PRODUCCI√ìN POR PUEBLO INDIGENA
				</h4>

				<div class="chart-container">
					<canvas id="lineChart4"></canvas>
				</div>
			</div>
			<div class="bloque-subproducto">
				<h3>PRODUCCI√ìN DE HUEVO DE GALLINA EN OAXACA</h3>
				<table class="tabla-datos">
					<thead>
						<tr>
							<th>REGION</th>
							<th>VOLUMEN DE PRODUCCI√ìN (TON)</th>
							<th>PRECIO ($/KG)</th>
							<th>VALOR DE PRODUCCI√ìN ($)</th>
							<th>CANTIDAD DE MUNICIPIOS</th>
						</tr>
					</thead>

					<tbody>
						<tr>
							<td>Valles Centrales</td>
							<td>1,957</td>
							<td>26</td>
							<td>49,953,000</td>
							<td>121</td>
						</tr>
						<tr>
							<td>Papaloapan</td>
							<td>1,343</td>
							<td>28</td>
							<td>37,923,000</td>
							<td>20</td>
						</tr>
						<tr>
							<td>Istmo</td>
							<td>973</td>
							<td>30</td>
							<td>28,532,000</td>
							<td>41</td>
						</tr>
						<tr>
							<td>Sierra de Ju√°rez</td>
							<td>669</td>
							<td>32</td>
							<td>20,642,000</td>
							<td>69</td>
						</tr>
						<tr>
							<td>Mixteca</td>
							<td>596</td>
							<td>26</td>
							<td>15,822,000</td>
							<td>155</td>
						</tr>
						<tr>
							<td>Sierra Sur</td>
							<td>551</td>
							<td>27</td>
							<td>15,076,000</td>
							<td>69</td>
						</tr>
						<tr>
							<td>Costa</td>
							<td>434</td>
							<td>36</td>
							<td>15,901,000</td>
							<td>50</td>
						</tr>
						<tr>
							<td>Sierra de Flores Mag√≥n</td>
							<td>355</td>
							<td>29</td>
							<td>10,154,000</td>
							<td>45</td>
						</tr>
					</tbody>
					<tfoot>
						<tr>
							<th>ESTATAL</th>
							<th>6,879</th>
							<th>28</th>
							<th>194,001,000</th>
							<th>570</th>
						</tr>
					</tfoot>
				</table>

				<h4>VOLUMEN DE PRODUCCI√ìN POR PUEBLO INDIGENA
				</h4>
				<div class="chart-container">
					<canvas id="lineChart5"></canvas>
				</div>
			</div>
		</section>
		<section id="section7" class="section">
			<h1>ESTACIONALIDAD DE LA PRODUCCI√ìN EN OAXACA</h1>


			<div class="bloque-producto">
				<p style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">La estacionalidad de la
					producci√≥n se
					refiere a la variaci√≥n en la frecuencia mensual con la que se
					produce carne de pollo, gallina en el estado de Oaxaca. Esta variaci√≥n se mide mediante el
					√çndice de Volumen F√≠sico, el cual permite identificar los meses con mayor actividad productiva. De
					acuerdo con este indicador, <strong>diciembre</strong> se posiciona como el mes con la mayor
					producci√≥n de carne,
					alcanzando un valor de <strong>127 puntos</strong> en el √≠ndice.</p>
				<h2>Producci√≥n de Carne en canal de pollo y gallina</h2>
				<div class="chart-container">
					<canvas id="lineChart6"></canvas>
				</div>
			</div>
			<div class="bloque-subproducto">
				<p style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">La estacionalidad de la
					producci√≥n se
					refiere a la variaci√≥n en la frecuencia mensual con la que se
					produce el huevo en el estado de Oaxaca. Esta variaci√≥n se mide mediante el
					√çndice de Volumen F√≠sico, el cual permite identificar los meses con mayor actividad productiva. De
					acuerdo con este indicador, el mes de <strong>septiembre</strong> volumen es septiembre, con un
					valor de <strong>134 puntos</strong> en el √≠ndice.</p>
				<h3>Producci√≥n de Huevo</h2>

					<div class="chart-container">
						<canvas id="lineChart7"></canvas>
					</div>
			</div>


		</section>
		<section id="section8" class="section">
			<h1>MUNICIPIOS QUE PRODUCEN CARNE Y HUEVO DE GALLINA EN OAXACA</h1>
			<iframe loading="lazy"  id="frame_oaxaca" src="{% url 'iframeOaxaca' %}" class="mapa_mexico_sty" frameborder="0"></iframe>
			<div id="botones"></div>
			<div id="titulo_regmun"></div>
			<div id="tabla"></div>
		</section>
	</div>

	<!-- Barra de progreso lateral -->
	<div class="progress-bar">
		<div class="progress-circle" data-target="section1"><i class="fa-solid fa-book"></i></div>
		<div class="progress-circle" data-target="section2"><i class="fa-solid fa-earth-americas"></i></div>
		<div class="progress-circle" data-target="section3"><i class="fa-solid fa-map-location-dot"></i></div>
		<div class="progress-circle" data-target="section4"><i class="fa-solid fa-scale-balanced"></i></div>
		<div class="progress-circle" data-target="section5"><i class="fa-solid fa-chart-line "></i></div>
		<div class="progress-circle" data-target="section6"><i class="fa-solid fa-chart-pie"></i></div>
		<div class="progress-circle" data-target="section7"><i class="fa-solid fa-calendar-days"></i></div>
		<div class="progress-circle" data-target="section8"><i class="fa-solid fa-map-pin"></i></div>
	</div>
</div>

<!-- Script -->
<script>
	const circles = document.querySelectorAll('.progress-circle');
	const sections = document.querySelectorAll('section');

	// Scroll a la secci√≥n al hacer clic
	circles.forEach(circle => {
		circle.addEventListener('click', () => {
			const targetId = circle.getAttribute('data-target');
			const targetSection = document.getElementById(targetId);
			targetSection.scrollIntoView({ behavior: 'smooth' });
		});
	});

	// Detectar qu√© secci√≥n est√° en vista y activar el c√≠rculo correspondiente
	window.addEventListener('scroll', () => {
		let current = '';
		sections.forEach(section => {
			const sectionTop = section.offsetTop;
			const sectionHeight = section.clientHeight;
			if (pageYOffset >= sectionTop - sectionHeight / 3) {
				current = section.getAttribute('id');
			}
		});

		circles.forEach(circle => {
			circle.classList.remove('active');
			if (circle.getAttribute('data-target') === current) {
				circle.classList.add('active');
			}
		});
	});
</script>

<script src="{% static 'data/mapas/pecuario/avicola.js' %}"></script>
<script src="{% static 'pecuario/js/avicola_js.js' %}"></script>

<script>
	const iframe = document.getElementById('frame_oaxaca');

	iframe.onload = function () {
		iframe.contentWindow.postMessage(regionesConMunicipios, "*");
	};

	const mundo_carne = document.getElementById("frame_mundo_prod");
	mundo_carne.onload = function () {
		mundo_carne.contentWindow.postMessage(paises_datos_pro, "*");
	}

	const mundo_huevo = document.getElementById("frame_mundo_sub_prod");
	mundo_huevo.onload = function () {
		mundo_huevo.contentWindow.postMessage(paises_datos_sub_pro, "*");
	}

	const mexico_huevo = document.getElementById("iframe_mexico_sub_prod");
	mexico_huevo.onload = function () {
		mexico_huevo.contentWindow.postMessage(tab_mex_sub_pro, "*");
	}

	const mexico_carne = document.getElementById("iframe_mexico_prod");
	mexico_carne.onload = function () {
		mexico_carne.contentWindow.postMessage(tab_mex_pro, "*");
	}
</script>

<!-- Script para mostrar/ocultar bloques seg√∫n el bot√≥n seleccionado y manejar estilos de botones -->
<script>
	// Funci√≥n para mostrar los bloques de producto (carne) y ocultar subproductos (lana)
	function mostrarProducto() {
		document.querySelectorAll('.bloque-producto').forEach(el => el.style.display = 'block');
		document.querySelectorAll('.bloque-subproducto').forEach(el => el.style.display = 'none');

		// Recarga los iframes de mapa para miel para refrescar datos o visualizaci√≥n
		document.getElementById('frame_mundo_prod').contentWindow.location.reload();
		document.getElementById('iframe_mexico_prod').contentWindow.location.reload();
		document.getElementById('frame_oaxaca').contentWindow.location.reload();
	}

	// Funci√≥n para mostrar los bloques de subproducto (lana) y ocultar productos (carne)
	function mostrarSubProducto() {
		document.querySelectorAll('.bloque-producto').forEach(el => el.style.display = 'none');
		document.querySelectorAll('.bloque-subproducto').forEach(el => el.style.display = 'block');

		// Recarga los iframes de mapa para cera para refrescar datos o visualizaci√≥n
		document.getElementById('frame_mundo_sub_prod').contentWindow.location.reload();
		document.getElementById('iframe_mexico_sub_prod').contentWindow.location.reload();

	}

	// Al cargar el documento, por defecto muestra la vista de producto (carne)
	document.addEventListener('DOMContentLoaded', () => {
		mostrarProducto();
	});

	// A√±ade funcionalidad a los botones de filtro para alternar clases 'active'
	const buttons = document.querySelectorAll('.container-buttons .btn');
	buttons.forEach(btn => {
		btn.addEventListener('click', e => {
			e.preventDefault(); // opcional, si no quieres que el enlace navegue

			// Quita clase 'active' de todos los botones
			buttons.forEach(b => b.classList.remove('active'));

			// A√±ade clase 'active' s√≥lo al bot√≥n clickeado
			btn.classList.add('active');
		});
	});
</script>
{% endblock %}