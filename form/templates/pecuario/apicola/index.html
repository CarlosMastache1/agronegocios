{% extends 'base3.html' %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
<link rel="stylesheet" href="{% static 'pecuario/css/avicola_css.css' %}">
<link rel="stylesheet" href="{% static 'pecuario/css/estilo_pecuario.css' %}">

<main id="contents" class="site-contnts">
    <!--BANNER-->
    <div class="home-slider">
        <div class="item" data-slide="{% static 'pecuario/apicola/img/api1.png' %}">
            <div class="container">
                <div class="row">
                    <div class="col-sm-11 col-md-8 col-lg-7"></div>
                </div>
            </div>
        </div>

        <div class="item" data-slide="{% static 'pecuario/apicola/img/api2.png' %}">

            <div class="container">
                <div class="row">
                    <div class="col-sm-11 col-md-8 col-lg-7"></div>
                </div>
            </div>
        </div>
    </div>
</main>

<div>
    <div id="body_pag">
        <!-- Secciones -->
        <section id="section1" class="section">
            <h1>DESCRIPCI√ìN DEL SECTOR APICOLA</h1>
            <p style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">
                Oaxaca cuenta con <STRong>244 municipios productores</STRong> del sector apicola, se encuentra en el 5¬∞
                lugar a nivel nacional de miel de abeja y el <STRong>4¬∞ lugar</STRong> en producci√≥n de cera de abeja,
                con <strong>12 pueblos ind√≠genas</STRong> productores de este sector.
            </p>


            <div class="descripcion">
                <div class="container">

                    <div class="card">
                        <h2>üìä Lugar a nivel mundial</h2>
                        <p>M√©xico ocupa el <strong>8¬∫ lugar</strong> mundial en producci√≥n de miel de abeja y el
                            <strong>11¬∫ lugar</strong> en producci√≥n de cera de abeja.
                        </p>
                    </div>

                    <div class="card">
                        <h2>üìç Municipios en Oaxaca</h2>
                        <p>Oaxaca cuenta con <strong>244 municipios productores</strong> de miel de abeja mientras que
                            <strong>243 municipios</strong> producen cera de abeja.
                        </p>
                    </div>

                    <div class="card">
                        <h2>üá≤üáΩ Lugar a nivel nacional</h2>
                        <p>Oaxaca ocupa el <strong>5¬∫ lugar</strong> nacional en producci√≥n de miel de abeja y el
                            <strong>4¬∫ lugar</strong> en producci√≥n de cera de abeja.
                        </p>
                    </div>

                    <div class="card">
                        <h2>üìà Regi√≥n con mayor producci√≥n</h2>
                        <p>La regi√≥n con mayor producci√≥n de miel y cera de abeja es la <strong>Costa</strong>.</p>
                    </div>

                    <div class="card">
                        <h2>üßëüèΩ‚Äçüåæ Pueblos ind√≠genas</h2>
                        <p>Un total de <strong>12 pueblos ind√≠genas</strong> participan activamente en la producci√≥n
                            de miel y cera de abeja en Oaxaca.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="section2" class="section">
            <h1>PRODUCCION MUNDIAL DEL SECTOR APICOLA</h1>

            <H2>MIEL DE ABEJA</H2>
            <div class="contenedor_col1">
                <div class="columna1">
                    <table class="tabla-datos">
                        <thead>
                            <tr>
                                <th>RANKING</th>
                                <th>PAIS</th>
                                <th>VOLUMEN DE PRODUCCION (TON)</th>
                            </tr>
                        </thead>
                        <tbody id="tab_cuerpo_pais_miel">
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Total:</th>
                                <th colspan="2" id="total_tabla1"> 138,453,072 </th>
                            </tr>
                        </tfoot>

                    </table>
                </div>
                <iframe id="frame_mundo_miel" src="{% url 'iframeMundo' %}" class="columna2" frameborder="0"></iframe>
            </div>

            <H3>CERA DE ABEJA</H3>
            <div class="contenedor_col2">
                <iframe id="frame_mundo_cera" src="{% url 'iframeMundo' %}" class="columna1" frameborder="0"></iframe>

                <div class="columna2">
                    <table class="tabla-datos">
                        <thead>
                            <tr>
                                <th>RANKING</th>
                                <th>PAIS</th>
                                <th>VOLUMEN DE PRODUCCION (TON)</th>
                            </tr>
                        </thead>

                        <tbody id="tab_cuerpo_pais_cera">

                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Total:</th>
                                <th colspan="2" id="total_tabla2"></th>
                            </tr>
                        </tfoot>

                    </table>
                </div>
            </div>
        </section>
        <section id="section3" class="section">
            <h1>PRODUCCION NACIONAL APICOLA</h1>

            <H2>PRODUCCION NACIONAL DE MIEL</H2>

            <div class="controls">
                <label>
                    Mostrar
                    <select id="rowsPerPage">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                    registros
                </label>

                <input type="text" id="searchInput" placeholder="Buscar...">
            </div>

            <table id="dataTable" class="tabla-datos">
                <thead>
                    <tr>
                        <th>RANKING</th>
                        <th>ENTIDAD FEDERATIVA</th>
                        <th>VOLUMEN DE PRODUCCION (TON)</th>
                        <th>PRECIO ($/KG)</th>
                        <th>VALOR DE PRODUCCION ($)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas din√°micas -->
                </tbody>
                <tfoot>
                    <tr id="total_datos_tab1">

                    </tr>
                </tfoot>
            </table>

            <div class="pagination">
                <button id="prevBtn">Anterior</button>
                <span id="pageInfo"></span>
                <button id="nextBtn">Siguiente</button>
            </div>

            <iframe id="iframe_mexico_miel" src="{% url 'iframeMexico' %}" class="mapa_mexico_sty"
                frameborder="0"></iframe>


            <H3>PRODUCCION NACIONAL DE CERA</H3>


            <div class="controls">
                <label>
                    Mostrar
                    <select id="rowsPerPage2">
                        <option value="10">10</option>
                        <option value="25">25</option>
                        <option value="50">50</option>
                        <option value="100">100</option>
                    </select>
                    registros
                </label>

                <input type="text" id="searchInput2" placeholder="Buscar...">
            </div>
            <table id="data2Table" class="tabla-datos">
                <thead>
                    <tr>
                        <th>RANKING</th>
                        <th>ENTIDAD FEDERATIVA</th>
                        <th>VOLUMEN DE PRODUCCION (TON)</th>
                        <th>PRECIO ($/KG)</th>
                        <th>VALOR DE PRODUCCION ($)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Filas din√°micas -->
                </tbody>
                <tfoot>
                    <tr id="total_datos_tab2"></tr>
                </tfoot>
            </table>

            <div class="pagination">
                <button id="prevBtn2">Anterior</button>
                <span id="pageInfo2"></span>
                <button id="nextBtn2">Siguiente</button>
            </div>
            <iframe id="iframe_mexico_cera" src="{% url 'iframeMexico' %}" class="mapa_mexico_sty"
                frameborder="0"></iframe>
        </section>
        <section id="section4" class="section">
            <h1>BALANZA COMERCIAL DEL SECTOR APICOLA DE MEXICO</h1>
            <h2>VOLUMEN DE COMERCIALIZACI√ìN (TON)</h2>
            <div class="chart-container">
                <canvas id="lineChart"></canvas>
            </div>
        </section>
        <section id="section5" class="section">
            <h1>PRODUCCION HISTORICA DE MIEL Y CERA DE ABEJA EN OAXACA</h1>
            <h2>VOLUMEN DE PRODUCCI√ìN POR REGI√ìN DE MIEL DE ABEJA (TON)</h2>
            <div class="chart-container">
                <canvas id="lineChart2"></canvas>
            </div>
            <h3>VOLUMEN DE PRODUCCI√ìN POR REGI√ìN DE CERA DE ABEJA (TON)</h3>

            <div class="chart-container">
                <canvas id="lineChart3"></canvas>
            </div>

        </section>
        <section id="section6" class="section">
            <h1>PRODUCCION DE MIEL Y CERA DE ABEJA EN OAXACA</h1>

            <h2>PRODUCCION DE MIEL DE ABEJA EN OAXACA</h2>

            <table class="tabla-datos">
                <thead>
                    <tr>
                        <th>REGION</th>
                        <th>VOLUMEN DE PRODUCCION (TON)</th>
                        <th>PRECIO ($/KG)</th>
                        <th>VALOR DE PRODUCCION ($)</th>
                        <th>CANTIDAD DE MUNICIPIOS</th>
                    </tr>
                </thead>

                <tbody id="tabla_produccion_miel_oax">
                   
                </tbody>
                <tfoot>
                    <tr id="total_tab_pro_miel_oax">
                    </tr>
                </tfoot>
            </table>


            <h4>VOLUMEN DE PRODUCCION POR PUEBLO INDIGENA
            </h4>

            <div class="chart-container">
                <canvas id="lineChart4"></canvas>
            </div>

            <h3>PRODUCCION DE CERA DE ABEJA EN OAXACA</h3>


            <table class="tabla-datos">
                <thead>
                    <tr>
                        <th>REGION</th>
                        <th>VOLUMEN DE PRODUCCION (TON)</th>
                        <th>PRECIO ($/KG)</th>
                        <th>VALOR DE PRODUCCION ($)</th>
                        <th>CANTIDAD DE MUNICIPIOS</th>
                    </tr>
                </thead>

                <tbody  id="tb_pro_cera_oax">
                    
                </tbody>
                <tfoot>
                    <tr id="total_tb_pro_cera_oax">
                    </tr>
                </tfoot>
            </table>

            <h4>VOLUMEN DE PRODUCCION POR PUEBLO INDIGENA
            </h4>
            <div class="chart-container">
                <canvas id="lineChart5"></canvas>
            </div>


        </section>
        <section id="section7" class="section">
            <h1>ESTACIONALIDAD DE LA PRODUCCI√ìN EN OAXACA</h1>
            <p style="text-align: center; font-size: 1.8rem; margin-bottom: 30px;">La estacionalidad de la producci√≥n se
                refiere a la variaci√≥n en la frecuencia mensual con la que se
                produce miel de abeja en el estado de Oaxaca. Esta variaci√≥n se mide mediante el
                √çndice de Volumen F√≠sico, el cual permite identificar los meses con mayor actividad productiva. De
                acuerdo con este indicador, <strong>Noviembre</strong> se posiciona como el mes con la mayor producci√≥n de miel,
                alcanzando un valor de <strong>471 puntos</strong> en el √≠ndice.</p>
            <h2>Producci√≥n de Miel de Abeja</h2>
            <div class="chart-container">
                <canvas id="lineChart6"></canvas>
            </div>
            
        </section>
        <section id="section8" class="section">
            <h1>MUNICIPIOS QUE PRODUCEN MIEL Y CERA DE ABEJA EN OAXACA</h1>
            <div class="contenedor_col1">
                <div class="columna1">
                    <table class="tabla-datos">
                        <thead>
                            <tr>
                                <th>REGION</th>
                                <th>CANTIDAD DE MUNICIPIOS</th>
                            </tr>
                        </thead>

                        <tbody id="tb_mun_miel_oax">
                           
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>Total:</th>
                                <th id="total_tf_mun_miel_oax"></th>
                            </tr>
                        </tfoot>

                    </table>
                </div>
                <iframe id="frame_oaxaca" src="{% url 'iframeOaxaca' %}" class="columna2" frameborder="0"></iframe>
            </div>
        </section>
    </div>

    <!-- Barra de progreso lateral -->
    <div class="progress-bar">
        <div class="progress-circle" data-target="section1"><i class="fa-solid fa-book"></i></div>
        <div class="progress-circle" data-target="section2"><i class="fa-solid fa-earth-americas"></i></div>
        <div class="progress-circle" data-target="section3"><i class="fa-solid fa-map-location-dot"></i></div>
        <div class="progress-circle" data-target="section4"><i class="fa-solid fa-scale-balanced"></i></div>
        <div class="progress-circle" data-target="section5"><i class="fa-solid fa-chart-line "></i></div>
        <div class="progress-circle" data-target="section6"><i class="fa-solid fa-chart-pie"></i></div>
        <div class="progress-circle" data-target="section7"><i class="fa-solid fa-calendar-days"></i></div>
        <div class="progress-circle" data-target="section8"><i class="fa-solid fa-map-pin"></i></div>
    </div>
</div>

<!-- Script -->
<script>
    const circles = document.querySelectorAll('.progress-circle');
    const sections = document.querySelectorAll('section');

    // Scroll a la secci√≥n al hacer clic
    circles.forEach(circle => {
        circle.addEventListener('click', () => {
            const targetId = circle.getAttribute('data-target');
            const targetSection = document.getElementById(targetId);
            targetSection.scrollIntoView({ behavior: 'smooth' });
        });
    });

    // Detectar qu√© secci√≥n est√° en vista y activar el c√≠rculo correspondiente
    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.clientHeight;
            if (pageYOffset >= sectionTop - sectionHeight / 3) {
                current = section.getAttribute('id');
            }
        });

        circles.forEach(circle => {
            circle.classList.remove('active');
            if (circle.getAttribute('data-target') === current) {
                circle.classList.add('active');
            }
        });
    });
</script>

<script src="{% static 'data/mapas/pecuario/apicultura.js' %}"></script>
<script src="{% static 'pecuario/js/apicola_js.js' %}"></script>

<script>
    const iframe = document.getElementById('frame_oaxaca');

    iframe.onload = function () {
        iframe.contentWindow.postMessage(regionesConMunicipios, "*");
    };

    const mundo_miel = document.getElementById("frame_mundo_miel");
    mundo_miel.onload = function () {
        mundo_miel.contentWindow.postMessage(paisesDatosMiel, "*");
    }

    const mundo_cera = document.getElementById("frame_mundo_cera");
    mundo_cera.onload = function () {
        mundo_cera.contentWindow.postMessage(paisesDatosCera, "*");
    }

    const mexico_cera = document.getElementById("iframe_mexico_cera");
    mexico_cera.onload = function () {
        mexico_cera.contentWindow.postMessage(estadosDatosCera, "*");
    }

    const mexico_miel = document.getElementById("iframe_mexico_miel");
    mexico_miel.onload = function () {
        mexico_miel.contentWindow.postMessage(estadosDatosMiel, "*");
    }
</script>
{% endblock %}