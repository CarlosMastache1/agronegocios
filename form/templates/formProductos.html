{% load static %}

<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
    <title>Registro de Productor</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" defer></script>


      <link rel="stylesheet" href="{% static 'bootstrap/css/bootstrap.min.css' %}">

      <link rel="stylesheet" type="text/css" href="{% static 'css/style-layout.css' %}">

    <style>
        body {
            display: flex;

            justify-content: center;
            align-items: center;
            background: white;
            font-family: 'Roboto', sans-serif;
        }

        .container {
            display: flex;
            width: 90%;
            max-width: 1200px;
            background: white;
            border-radius: 10px;
            box-shadow: 0px 4px 20px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .left-section {
            flex: 1;
            background: url("{% static 'images/fondoForm.jpg' %}") no-repeat center center;
            background-size: cover;
            min-height: 315px;
        }

        .right-section {
            flex: 1.5;
            padding: 40px;
            background: white;
            color: black;
        }

        h4 {
            color: #9D2449;
            text-align: center;
        }

        .input-field input,
        .input-field select,
        .file-path {
            border-bottom: 2px solid #9D2449 !important;
            color: black;
        }

        label {
            color: black !important;
        }

        .btn {
            background: #9D2449;
            color: white;
            width: 100%;
            border-radius: 25px;
            transition: background 0.3s ease;
        }

        .btn:hover {
            background: #B5305A;
        }

        .icon {
            color: #9D2449;
            font-size: 24px;
            margin-right: 10px;
        }

        #aletar_pdf {
            color: red;
            font-size: 10px;
        }
    </style>
</head>

<body>
         <header class="site-header">
      <!-- Navbar -->
      <nav class="navbar navbar-default navbar-fixed-top fluid-navbar navbar-layaout-new" id="navbar-new">
        <div class="container-fluid">


          <!-- Encabezado con botón toggle -->
          <div class="navbar-header">
            <a class="navbar-brand" href="#">
              <img src="{% static 'assets/images/logo-new.png' %}" alt="logo" height="40px">
            </a>
            <!-- Botón para colapsar menú -->
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#menu-colapsable">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
          </div>


          <div class="collapse navbar-collapse" id="menu-colapsable">
            <ul class="nav navbar-nav navbar-right">

              <li>
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <span class="glyphicon glyphicon-home"></span> INICIO <span
                    class="glyphicon glyphicon-chevron-down pull-right"></span>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/">INICIO</a></li>
                  <li><a href="/nosotros">NOSOTROS</a></li>
                  <li><a href="/directorio">DIRECTORIO</a></li>
                  <li><a href="/ubicacion">UBICACION</a></li>
                </ul>
              </li>

              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <span class="glyphicon glyphicon-lock"></span> DESEMPEÑO DE GARANTÍAS LÍQUIDAS <span
                    class="glyphicon glyphicon-chevron-down pull-right"></span>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/graficaPubli" target="_blank">VER DESEMPEÑO DEL FONDO</a></li>
                  <li><a href="/login" target="_blank">HERRAMIENTA PARA INTERMEDIARIOS FINANCIEROS</a></li>
                </ul>
              </li>

              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <span class="glyphicon glyphicon-stats"></span> ESTADÍSTICAS DEL SECTOR AGROALIMENTARIO <span
                    class="glyphicon glyphicon-chevron-down pull-right"></span>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/agricola">AGRICOLA</a></li>
                  <li><a href="/pecuario">PECUARIO</a></li>
                </ul>
              </li>

              <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <span class="glyphicon glyphicon-road"></span> DESARROLLO DE MERCADO <span
                    class="glyphicon glyphicon-chevron-down pull-right"></span>
                </a>
                <ul class="dropdown-menu">
                  <li><a href="/formProductos" target="_blank">REGISTRA TU PRODUCTO</a></li>
                  <li><a href="/tiendaHome">CATALOGO DE PRODUCTOS</a></li>
                  <li><a href="/graficos-precios">COTIZACIÓN DE PRECIOS</a></li>
                </ul>
              </li>

            </ul>
          </div>
        </div>
      </nav>


    </header>
    <div class="container" style="padding-top: 65px;">
        <div class="left-section"></div>
        <div class="right-section">
            <div class="center-align">
                <img src="{% static 'images/logoForm.png' %}" alt="Logo" width="300">
            </div>
            <h4>Registro</h4>
            <form action="/formProductos/" method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <div class="input-field">
                    <input name="nombreProductor" type="text" id="nombre-productor" required
                        oninput="this.value = this.value.toUpperCase();">
                    <label for="nombre-productor">NOMBRE DEL PRODUCTOR</label>
                </div>
                <div class="input-field">
                    <select id="" required name="municipio">
                        <option value="" disabled selected>ELIGE UNA OPCIÓN</option>
                        {% for mun in muni %}
                        <option value="{{mun.id}}">{{mun.nombre_municipio}}</option>
                        {% endfor %}
                    </select>
                    <label>MUNICIPIO</label>
                </div>
                <div class="input-field">
                    <input type="text" id="localidad" name="localidad" 
                        oninput="this.value = this.value.toUpperCase();">
                    <label for="localidad">LOCALIDAD</label>
                </div>
                <div class="input-field">
                    <input type="text" name="nombreProducto" id="nombre-producto" required
                        oninput="this.value = this.value.toUpperCase();">
                    <label for="nombre-producto">NOMBRE DEL PRODUCTO</label>
                </div>
                <div class="input-field">
                    <input type="text" name="nombreMarca" id="nombre-marca"
                        oninput="this.value = this.value.toUpperCase();">
                    <label for="nombre-marca">NOMBRE DE LA MARCA</label>
                </div>
                <div class="input-field">
                    <select name="subsector" id="subsector2" required>
                        <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                        <option value="AGRICOLA">AGRICOLA</option>
                        <option value="PECUARIO">PECUARIO</option>
                        <option value="PESQUERO">PESQUERO</option>
                        <option value="ACUICOLA">ACUICOLA</option>
                        <option value="FORESTAL">FORESTAL</option>
                        <option value="AGROINDUSTRIAL">AGROINDUSTRIAL</option>

                    </select>
                    <label>SUBSECTOR</label>
                </div>
                <div id="sub-AGRICOLA-2">
                    <div class="input-field">
                        <select name="categoria" required>
                            <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                            <option value="AGUACATE">AGUACATE</option>
                            <option value="AJONJOLI">AJONJOLI</option>
                            <option value="CAFE">CAFE</option>
                            <option value="JENGIBRE">JENGIBRE</option>
                            <option value="LIMON">LIMON</option>
                            <option value="MAIZ">MAIZ</option>
                            <option value="MANGO">MANGO</option>
                            <option value="PAPAYA">PAPAYA</option>
                            <option value="PEPINO">PEPINO</option>
                            <option value="TOMATE">TOMATE</option>
                            <option value="OTRO">OTRO</option>
                        </select>
                        <label>CATEGORIA</label>
                    </div>
                </div>
                <div id="sub-PECUARIO-2">
                    <div class="input-field">
                        <select name="categoria" required>
                            <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                            <option value="APICOLA">APICOLA</option>
                            <option value="AVICOLA">AVICOLA</option>
                            <option value="BOVINO">BOVINO</option>
                            <option value="CAPRINO">CAPRINO</option>
                            <option value="PORCINO">PORCINO</option>

                        </select>
                        <label>CATEGORIA</label>
                    </div>
                </div>
                <div id="sub-PESQUERO-2">
                    <div class="input-field">
                        <select name="categoria" required>
                            <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                            <option value="BARRILETE">BARRILETE</option>
                            <option value="CAMARON CAFE">CAMARON CAFE</option>
                            <option value="CAZON">CAZON</option>
                            <option value="OTRO">OTRO</option>

                        </select>
                        <label>CATEGORIA</label>
                    </div>
                </div>
                <div id="sub-ACUICOLA-2">
                    <div class="input-field">
                        <select name="categoria" required>
                            <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                            <option value="TILAPIA">TILAPIA</option>
                            <option value="CAMARON BLANCO">CAMARON BLANCO</option>
                            <option value="TRUCHA ARCOIRIS">TRUCHA ARCOIRIS</option>
                            <option value="OTRO">OTRO</option>

                        </select>
                        <label>CATEGORIA</label>
                    </div>
                </div>
                <div class="input-field">
                    <input name="volumen_produccion" type="text" id="volumen" required
                        oninput="this.value = this.value.toUpperCase();">
                    <label for="volumen">VOLUMEN DE PRODUCCIÓN (Toneladas)</label>
                </div>

                <div class="input-field">
                    <select name="disponibilidad_entrega" required>
                        <option value="0" disabled selected>ELIGE UNA OPCIÓN</option>
                        <option value="SEMANAL">SEMANAL</option>
                        <option value="MENSUAL">MENSUAL</option>
                        <option value="BIMESTRAL">BIMESTRAL</option>
                        <option value="TRIMESTRAL">TRIMESTRAL</option>
                        <option value="CUATRIMESTRAL">CUATRIMESTRAL</option>
                        <option value="SEMESTRAL">SEMESTRAL</option>
                        <option value="ANUAL">ANUAL</option>

                    </select>
                    <label>DISPONIBILIDAD DE ENTREGA</label>
                </div>

                <div class="input-field">
                    <input name="telefono" type="tel" pattern="[0-9]{10}" maxlength="10" id="telefono" >
                    <label for="telefono">NÚMERO TELEFÓNICO</label>
                </div>
                <div class="input-field">
                    <input name="email" type="email" id="email" required>
                    <label for="email">CORREO ELECTRÓNICO</label>
                </div>



                <div class="file-field input-field">
                    <div class="btn">
                        <span>SUBIR FOTO DEL PRODUCTO</span>
                        <input type="file" name="imagenProd" multiple accept="image/png, image/jpeg">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text" placeholder="SUBIR FOTO DEL PRODUCTO">
                    </div>
                </div>


                <div class="file-field input-field">
                    <div class="btn">
                        <span>SUBIR CERTIFICADO PDF</span>
                        <input type="file" name="archivo_pdf" accept="application/pdf" id="archivo-pdf">
                    </div>
                    <div class="file-path-wrapper">
                        <input class="file-path validate" type="text" placeholder="SUBIR CERTIFICADO PDF">
                    </div>

                    <span id="aletar_pdf"></span>
                </div>

                <label>
                    <input type="checkbox" name="terminos" required />
                    <span style="padding-bottom: 40px;">Acepto los <a href="/terminos-condiciones"
                            target="_blank">términos y condiciones</a></span>
                </label>


                <button class="btn waves-effect waves-light">REGISTRAR PRODUCTO</button>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

  <script>
    //navbar-layaout-new 
    const navbar = document.getElementById('navbar-new');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) {
        navbar.classList.remove('navbar-layaout-new');
        navbar.classList.add('navbar-scroll');
      } else {
        navbar.classList.remove('navbar-scroll');
        navbar.classList.add('navbar-layaout-new');
      }
    });

  </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            M.FormSelect.init(document.querySelectorAll('select'));
        });
    </script>
    <script src="{% static 'js/select3.js' %}"></script>


    <script>
        const input = document.getElementById("volumen");
        input.addEventListener("input", function () {
            this.value = this.value.replace(/[^0-9.]/g, '');
            // Evitar más de un punto decimal
            const parts = this.value.split('.');
            if (parts.length > 2) {
                this.value = parts[0] + '.' + parts.slice(1).join('');
            }
        });

        const phoneInput = document.getElementById("telefono");
        phoneInput.addEventListener("input", function () {
            this.value = this.value.replace(/\D/g, ''); // Elimina cualquier carácter no numérico
        });

        const tamano_maximo = 100000000; // 100mb

        const spanAlert = document.getElementById("aletar_pdf");

        const inputFile = document.getElementById('archivo-pdf');
        inputFile.addEventListener("change", function() {
            if(this.files.length <= 0) return;

            const archvo = this.files[0];

            if(archvo.size >=tamano_maximo){
                inputFile.value = "";
                spanAlert.innerHTML = "El certificado es muy pesado; Asegurate de que el peso del arhivo no sea mayor a 100MB"
            }

        });
    </script>
</body>

</html>